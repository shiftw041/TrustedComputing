期中考试：
1. 描述TPM可迁移密钥和不可迁移密钥的定义，哪种密钥更安全
可迁移密钥 并不局限某个特定平台，可以由平台用户的控制下在平台之间迁移。不可迁移密钥永久地与某个指定平台关联，不可迁移密钥不会以明文形式离开TPM，不可迁移密钥对TPM中产生的数据进行签名。
不可迁移密钥更安全。因为不可迁移密钥全部由TPM内部产生并且从产生到销毁整个周期私钥部分都不会离开TPM。不可迁移密钥能够用来加密保护可迁移密钥，反之不行。
不可迁移密钥可以转换为可迁移密钥，但不可逆。


2. AIK是什么？主要用途是什么？可迁移密钥还是不可迁移密钥？为什么TPM要支持多个AIK
AIK是认证身份密钥，或平台身份认证密钥。
专用于对TPM产生的数据（如TPM功能、PCR寄存器的值等）进行签名，用来证明平台的身份和平台的环境配置，凡是经过AIK签名的实体，都表明已经经过TPM的处理。
是不可迁移密钥。

每个用户可以拥有多个AIK，每个AIK的生成都需要可信第三方的支持。所以TPM需要支持多个AIK。


3. EK？主要用途？是否可迁移
EK是Endorsement Key，即签署密钥或背书密钥

【是一个TPM平台的不可迁移的解密密钥，它是一个2048bit的RSA密钥对。它生成于平台的生产过程中，代表着每个平台的真实身份，仅有唯一一个。在确定平台所有者时，用于解密所有者的授权数据，还有解密与生成AIK相关的数据。】
签署密钥代表着每个平台的真实身份，从不用作数据加密和签名，主要功能是生成身份证明密钥（AIK）和确定TPM平台的所有者，【由TPM的所有者来生成存储根密钥SRK，使用SRK来加密、存储其他的密钥。】

是不可迁移密钥。

4. 如何做本地报告
①可以将一个机密信息绑定到PCR值来标志一个可信的启动过程。
②当要判断机器的启动过程是否可信，用户可以要求TPM对这条秘密信息执行Unseal操作。如果这条Seal的机密信息能够被释放，那么就表示相应的PCR值都符合期望值，进而说明启动过程是安全的。
③删除口令，破坏PCR的值。（正常启动后销毁秘密信息，扩展PCR改变机器状态，确保后来者无法unseal。）

5. 信任链的产生过程？日志的作用？为什么日志不需要防篡改？
在信任当前某一环节的前提下，由该环节去评估下一个环节的安全性，确定下一环节可信之后再将控制权转交给下一环节，然后依次向后推进。整个启动序列中都遵循“先度量再执行”的原则，当前阶段的代码负责度量下一阶段即将要执行的代码，然后再将度量值扩展到PCR寄存器中，这样循环往复就产生了信任链。

日志是存在于TPM外部的，用来存储平台的状态信息，如内核镜像、进程信息列表、应用二进制可执行程序等，解决了TPM存储空间有限的问题。
日志不需要防篡改，是因为PCR中通过扩展来记录日志信息的摘要，可以用来对度量日志进行验证。攻击者即使篡改了日志，但是PCR中记录的度量值是不可伪造的，用户对度量日志进行摘要就会发现与度量值不匹配。


6. 为什么TPM没有必要支持对称加密算法功能
一是难以在保证性能的情况下处理大规模数据。
二是因为TPM增加对称加密算法的支持不会给PC系统提供更高的安全性。因为在系统安全的情况下，可以靠软件做对称加密。此时，加入对称加密并不会改善安全性。在系统不安全的情况下，黑客感兴趣的不是密钥，而是明文，所以也不能改善安全性。

7.描述远程证明过程？？？？？？
挑战者向配置了TPM的客户端请求一次摘要。
客户端使用AIK对要求的PCRs和nonce进行数字签名，向挑战者发送已签名的摘要AIK证书。
挑战者验证摘要数据块的签名，检查nonce。
挑战者通过第三方CA验证AIK证书。
第三方CA对挑战者的证书进行验证，返回证书作废列表。
挑战者基于客户端状态做出下一步动作的决定，即对比PCR摘要值是否与期望值相符



8.什么是Binding Keys？主要用途是什么？
Binding Keys是绑定密钥。
用于在一个平台中加密小规模数据（如对称密钥），然后在另一个TPM平台上进行解密。由于使用平台所特有的密钥加密，所以与该平台绑定。

这个密钥的用法同传统非对称密钥加密相同。


9.SRK是什么？主要用途是什么？可迁移密钥还是不可迁移密钥？
存储根密钥
【是整个系统拥有一个最高权限的存储密钥，这个最高级密钥也就是存储根密钥。它很特殊，】用于签名，不用于加密。在每个用户创建的时候生成，管理这个用户的所有数据，一个TPM仅存在唯一一个。所有其它的密钥都在存储根密钥的保护之下。
不可迁移。【因为没有密钥能用于加密SRK而SRK又需要保护，故只能放在TPM内部且不可离开。】

10. CRTM是什么，为什么是不可修改的，假如修改会产生何种攻击
CRTM是Core root of trust for measurement，即核心可信度量根。
对所有度量的信任都基于CRTM的完整性
核心可信度量根如果遭受篡改，则整个平台的安全性就丧失了，攻击者可以构造自己的信任链，可以往PCR中写入任意值，可以轻易做到远程证明等操作。
